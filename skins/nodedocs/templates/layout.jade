include lib
!!! 5
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

head
  meta(charset="utf-8")
  //- N.B. http://blog.yjl.im/2011/01/bad-value-x-ua-compatible-for-attribute.html
  meta(http-equiv="X-UA-Compatible", content="IE=edge,chrome=1")

  title #{title}

  meta(name="generator", content="ndoc")
  meta(name="description", content="")
  meta(name="author", content="")

  meta(name="viewport", content="width=device-width,initial-scale=1")

  // CSS
  link(rel="stylesheet", href="stylesheets/bootstrap.css")
  link(rel="stylesheet", href="stylesheets/prettify.css")
  link(rel="stylesheet", href="stylesheets/overrides.css")
  // end CSS

  script(src="javascripts/modernizr-2.0.6.min.js")
  script(src="javascripts/jquery.js")
  script(src="javascripts/jquery.collapse.js")
  script(src="javascripts/jquery.cookie.js")
  script(src="javascripts/clicker.js")
  script(src="javascripts/bootstrap-dropdown.js")
  script(src="javascripts/prettify.js")
  script(src="javascripts/prettify-extension.js")

body(onload="styleCode()")

  #header
      for obj in tree.children
        .members
              h1.memberHeader
                span.name #{obj.path}
              if obj.type == 'class' || obj.type == 'namespace' || obj.type == 'section'
                ul.tabs
                  for selector, title in {'Events': ['event', 'events'], 'Constructors': ['constructor', 'constructors'], 'Class methods': ['class method', 'class_methods'], 'Class properties': ['class property', 'class_properties'], 'Instance methods': ['instance method', 'instance_methods'], 'Instance properties': ['instance property', 'instance_properties'], 'Constants': ['constant', 'constants']}
                    methods = obj.children.filter(function(x){return x.type === selector[0]})
                      li(class="dropdown", data-dropdown="dropdown")
                        if methods.length
                          a(href="\#", class="dropdown-toggle") #{title} (#{methods.length})
                          if (methods.length >= 20 && methods.length < 30)
                            ul.dropdown-menu.double
                              for m in methods
                                li.memberLink
                                  mixin link(m, true)                            
                          else if (methods.length >= 30 && methods.length < 40)
                            ul.dropdown-menu.triple
                              for m in methods
                                li.memberLink
                                  mixin link(m, true)
                          else if (methods.length >= 40)
                            ul.dropdown-menu.quad
                              for m in methods
                                li.memberLink
                                  mixin link(m, true)                          
                          else
                            ul.dropdown-menu
                              for m in methods
                                li.memberLink
                                  mixin link(m, true)
                                  
              else
                -console.log("I did not create a menu for: " + obj.id + "_" + obj.name + "~~~" + obj.type)
  #sidebar
    include menu.jade

  #content
     mixin api()
  
  #footer
     p Last updated on #{date}. Generated by <a href="http://github.com/nodeca/ndoc">ndoc</a>

  // scripts concatenated and minified via ant build script
  <script defer src="javascripts/plugins.js"></script>
  <script defer src="javascripts/prettify.js"></script>
  <script defer src="javascripts/script.js"></script>
  script(src="javascripts/bootstrap-extends.js")
  //-<script defer src="tree.js"></script>
  // end scripts


  //if lt IE 7
    script(src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js")
    script
      window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})

</html>
